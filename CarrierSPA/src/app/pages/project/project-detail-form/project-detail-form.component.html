<div class="row">
  <div class="col-12">
    <nb-card>
      <nb-tabset fullWidth>
        <nb-tab tabTitle="Task ToDo #1">
          <div class="col-lg-12">
              <nb-card-body>
                <form [formGroup]="baseForm" (submit)="baseSubmit()">
                <div class="form-group row">
                  <label for="moreInfo" class="label col-sm-2 col-form-label">task info</label>
                  <div class="col-sm-7">
                    <textarea name="moreInfo" id="moreInfo" formControlName="moreInfo" class="form-control" rows="6">

                    </textarea>
                    <span *ngIf="!baseForm.get('moreInfo').valid && baseForm.get('moreInfo').touched"
                    ><nb-alert outline="danger" style="padding: 0.5rem;margin: 0.3rem">Required</nb-alert></span>
                  </div>
                </div>
                  <div class="form-group row">
                    <label for="finishDate" class="label col-sm-2 col-form-label">finishDate</label>
                    <div class="col-sm-7">
                        <input [nbDatepicker]="datepicker" class="form-control" formControlName="finishDate">
                        <nb-datepicker #datepicker ></nb-datepicker>
                    </div>
                  </div>
                <div class="form-group row">
                  <label for="finishProject" class="label col-sm-2 col-form-label">finishProject</label>
                  <div class="col-sm-7">
                    <nb-checkbox [value]="false" formControlName="finishProject"></nb-checkbox>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="dateRefer" class="label col-sm-2 col-form-label">Reminder</label>
                  <div class="col-sm-7">
                      <input [nbDatepicker]="datepicker1" class="form-control" formControlName="dateRefer">
                      <nb-datepicker #datepicker1 ></nb-datepicker>
                  </div>
                </div>
                <div class="form-group row">
                  <div class="offset-sm-3 col-sm-4">
                    <button type="submit" nbButton status="primary" [disabled]="!baseForm.valid">Save</button>
                  </div>
                </div>
                </form>
                <div *ngIf="saveState != '0'">
                  <ng-container *ngIf="saveState == '1'; else elseTemplate">
                    <nb-alert status="success">Data have been successfully Saved</nb-alert>
                  </ng-container>
                  <ng-template #elseTemplate>
                    <nb-alert status="danger">{{saveState}}</nb-alert>
                  </ng-template>
                </div>
              </nb-card-body>
          </div>
        </nb-tab>
        <nb-tab tabTitle="Factor #2">
          <div class="col-lg-12">
              <nb-card-body>
                <form [formGroup]="detailForm" (submit)="detailSubmit()">
                <div class="form-group row">
                  <label for="factorNo" class="label col-sm-2 col-form-label">factorNo</label>
                  <div class="col-sm-7">
                    <input class="form-control" type="text" placeholder="factorNo" formControlName="factorNo" name="factorNo">
                    <span *ngIf="!detailForm.get('factorNo').valid && detailForm.get('factorNo').touched"
                    ><nb-alert outline="danger" style="padding: 0.5rem;margin: 0.3rem">Required</nb-alert></span>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="factorDate" class="label col-sm-2 col-form-label">factorDate</label>
                  <div class="col-sm-7">
                      <input [nbDatepicker]="datepicker2" class="form-control" formControlName="factorDate">
                      <nb-datepicker #datepicker2 ></nb-datepicker>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="factorAmount" class="label col-sm-2 col-form-label">factorAmount</label>
                  <div class="col-sm-7">
                    <input class="form-control" type="number" placeholder="factorAmount" formControlName="factorAmount" name="factorAmount" (blur)="leaveBox()">
                  </div>
                </div>
                <div class="form-group row">
                  <label for="discount" class="label col-sm-2 col-form-label">discount</label>
                  <div class="col-sm-7">
                    <input class="form-control" type="number" placeholder="discount" formControlName="discount"
                    name="discount" (blur)="leaveBox()">
                  </div>
                </div>
                <div class="form-group row">
                  <label for="tax" class="label col-sm-2 col-form-label">tax</label>
                  <div class="col-sm-7">
                    <input class="form-control" type="number" placeholder="tax" formControlName="tax" name="tax"
                     (blur)="leaveBox()">
                  </div>
                </div>
                <div class="form-group row">
                  <label for="projectState" class="label col-sm-2 col-form-label">projectState</label>
                  <div class="col-sm-7">
                      <select formControlName="projectState" class="form-control">
                          <option *ngFor="let item of stateArr" [ngValue]="item.id" class="form-control">
                            {{ item.name }}</option>
                      </select>
                  </div>
              </div>
              <div class="form-group row">
                <label for="FinalAmount" class="label col-sm-2 col-form-label">FinalAmount</label>
                <div class="col-sm-7">
                  <input class="form-control" type="number" id="finalAmount" placeholder="finalAmount" #finalAmount
                   name="finalAmount" readonly="true">
                </div>
              </div>
                <div class="form-group row">
                  <div class="offset-sm-3 col-sm-4">
                    <button type="submit" nbButton status="primary" [disabled]="!detailForm.valid">Save</button>
                  </div>
                </div>
                </form>
                <div *ngIf="saveState != '0'">
                  <ng-container *ngIf="saveState == '1'; else elseTemplate">
                    <nb-alert status="success">Data have been successfully Saved</nb-alert>
                  </ng-container>
                  <ng-template #elseTemplate>
                    <nb-alert status="danger">{{saveState}}</nb-alert>
                  </ng-template>
                </div>
              </nb-card-body>
          </div>
        </nb-tab>
      </nb-tabset>
    </nb-card>
  </div>
</div>
