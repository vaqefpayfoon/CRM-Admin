<div class="row">
  <div class="col-lg-12">
    <nb-card>
      <nb-card-header>{{_id == -1 ? 'Add Project' : 'Update Project'}}</nb-card-header>
      <nb-card-body>
        <form [formGroup]="baseForm" (submit)="baseSubmit()">
          <div class="form-group row">
            <label for="projectTypeTitle" class="label col-sm-2 col-form-label">projectTypeTitle</label>
            <div class="col-sm-7">
              <ng2-completer [datasource]="dataServiceProject" inputClass="form-control" formControlName="projectTitle" name="projectTitle" inputName="searchField" [minSearchLength]="2" placeholder="projectTitle">
              </ng2-completer>
              <span *ngIf="!baseForm.get('projectTitle').valid && baseForm.get('projectTitle').touched"
              ><nb-alert outline="danger" style="padding: 0.5rem;margin: 0.3rem">Required</nb-alert></span>
            </div>
          </div>
          <div class="form-group row">
            <label for="supcustName" class="label col-sm-2 col-form-label">SupcustName</label>
            <div class="col-sm-7">
              <ng2-completer [datasource]="dataServiceSupcust" inputClass="form-control" formControlName="supcustName" name="supcustName" inputName="searchField" [minSearchLength]="2" placeholder="SupcustName" >
              </ng2-completer>
              <span *ngIf="!baseForm.get('supcustName').valid && baseForm.get('supcustName').touched"
              ><nb-alert outline="danger" style="padding: 0.5rem;margin: 0.3rem">Required</nb-alert></span>
              <!-- <button type="submit" nbButton status="default" (click)="open3()">get</button>
              <div *ngFor="let item of names">
                <p>{{ item.productName }}, {{ item.personName }}, {{ item.barcode }}, {{ item.serial }}</p>
              </div> -->
            </div>
          </div>
          <div class="form-group row">
            <label for="productName" class="label col-sm-2 col-form-label">ProductName</label>
            <div class="col-sm-7">
              <ng2-completer [datasource]="dataServiceProduct" inputClass="form-control" formControlName="productName" name="productName" inputName="searchField" [minSearchLength]="2" placeholder="ProductName">
              </ng2-completer>
              <span *ngIf="!baseForm.get('productName').valid && baseForm.get('productName').touched"
              ><nb-alert outline="danger" style="padding: 0.5rem;margin: 0.3rem">Required</nb-alert></span>
            </div>
          </div>
          <div class="form-group row">
            <label for="userName" class="label col-sm-2 col-form-label">UserName</label>
            <div class="col-sm-7">
              <ng2-completer [datasource]="dataServiceUsers" inputClass="form-control" formControlName="userName" name="userName" inputName="searchField" [minSearchLength]="2" placeholder="UserName">
              </ng2-completer>
              <span *ngIf="!baseForm.get('userName').valid && baseForm.get('userName').touched"
              ><nb-alert outline="danger" style="padding: 0.5rem;margin: 0.3rem">Required</nb-alert></span>
            </div>
          </div>
          <div class="form-group row">
            <label for="adminOrder" class="label col-sm-2 col-form-label">adminOrder</label>
            <div class="col-sm-7">
              <textarea name="adminOrder" id="adminOrder" formControlName="adminOrder" class="form-control" rows="6">

              </textarea>
              <span *ngIf="!baseForm.get('adminOrder').valid && baseForm.get('adminOrder').touched"
              ><nb-alert outline="danger" style="padding: 0.5rem;margin: 0.3rem">Required</nb-alert></span>
            </div>
          </div>
          <div class="form-group row">
            <label for="toDoDate" class="label col-sm-2 col-form-label">toDoDate</label>
            <div class="col-sm-7">
                <input [nbDatepicker]="datepicker" class="form-control" formControlName="toDoDate">
                <nb-datepicker #datepicker ></nb-datepicker>
            </div>
          </div>
          <div class="form-group row">
              <label for="toDoDate" class="label col-sm-2 col-form-label">SaleState</label>
              <div class="col-sm-7">
                  <select formControlName="saleState" class="form-control">
                      <option *ngFor="let item of saleStateArr" [ngValue]="item.id" class="form-control">
                        {{ item.name }}</option>
                  </select>
              </div>
          </div>
        <div class="form-group row">
          <label for="projectActive" class="label col-sm-2 col-form-label">projectActive</label>
          <div class="col-sm-7">
            <nb-checkbox [value]="false" formControlName="projectActive"></nb-checkbox>
          </div>
        </div>
          <div class="form-group row">
            <div class="offset-sm-3 col-sm-4">
              <button type="submit" nbButton status="primary" [disabled]="!baseForm.valid">Save</button>
            </div>
          </div>
        </form>
        <div *ngIf="saveState != '0'">
          <ng-container *ngIf="saveState == '1'; else elseTemplate">
            <nb-alert status="success">Data have been successfully Saved</nb-alert>
          </ng-container>
          <ng-template #elseTemplate>
            <nb-alert status="danger">{{saveState}}</nb-alert>
          </ng-template>
        </div>
      </nb-card-body>
    </nb-card>
  </div>
</div>
